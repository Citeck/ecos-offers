---
id: offer-request-type
name:
  ru: Запрос
storageType: ECOS_MODEL
parentRef: emodel/type@case
formRef: uiserv/form@offer-request-form
journalRef: uiserv/journal@offer-request-journal
dispNameTemplate:
  ru: Запрос №${idocs:registrationNumber}
  en: Request №${idocs:registrationNumber}
numTemplateRef: emodel/num-template@offer-number-template
actions:
  - uiserv/action@delete-offer
  - uiserv/action@edit
  - uiserv/action@offer-workflow-reject
defaultCreateVariant: true
model:
  roles:
    - id: request-initiator-role
      name:
        ru: Инициатор
      attributes:
        - idocs:initiator
    - id: request-director-role
      name:
        ru: Генеральный директор
      assignees:
        - GROUP_company_director
    - id: request-hr-role
      name:
        ru: HR
      assignees:
        - GROUP_hr
    - id: request-manager-subdivision
      name:
        ru: Руководитель подразделения
      attributes:
        - requestManagerSubdivision
  statuses:
    - id: draft
      name:
        ru: Черновик
    - id: request-director-approve
      name:
        ru: Согласование директором
    - id: request-rework
      name:
        ru: Доработка
    - id: request-reject
      name:
        ru: Отклонена
    - id: request-selection-candidates
      name:
        ru: Подбор кандидатов
    - id: request-on-work
      name:
        ru: Вышел на работу
  attributes:
    - id: idocs:registrationNumber
      name:
        ru: Регистрационный номер
      computed:
        type: TEMPLATE
        config:
          template: '${_docNum}'
        storingType: ON_EMPTY
    - id: request_issueDate
      name:
        ru: Дата создания
      type: DATE
    - id: reg_number_counter
      name:
        ru: Счетчик регномера
      computed:
        type: COUNTER
        config:
          numTemplateRef: emodel/num-template@offer-number-template
        storingType: ON_CREATE
    - id: idocs:initiator
      name:
        ru: Инициатор
      type: ASSOC
    - id: requestPosition
      name:
        ru: Должность
      type: ASSOC
    - id: requestSubdivision
      name:
        ru: Подразделение
      type: ASSOC
    - id: requestGrade
      name:
        ru: Грейд
      type: ASSOC
    - id: requestCity
      name:
        ru: Город
      type: ASSOC
    - id: requestExperience
      name:
        ru: Опыт работы
      type: ASSOC
    - id: requestManagerSubdivision
      name:
        ru: Руководитель подразделения
      type: ASSOC
    - id: requestSelectedCandidate
      name:
        ru: Выбранный кандидат
      type: ASSOC
      config:
        typeRef: emodel/type@offer-candidate-type
        child: false
    - id: requestSalaryAndPrize
      name:
        ru: Зарплатная вилка и премия
      type: ASSOC
    - id: requestComment
      name:
        ru: Комментарий
    - id: requestTerm
      name:
        ru: Планируемая дата выхода
      type: DATE
    - id: requestApproveStage
      name:
        ru: Номер этапа согласования
      type: NUMBER
    - id: requestCandidates
      name:
        ru: Кандидаты
      type: ASSOC
      config:
        typeRef: emodel/type@offer-candidate-type
        child: false
      multiple: true
    - id: requestUrgentSearch
      name:
        ru: Срочный поиск
      type: BOOLEAN
